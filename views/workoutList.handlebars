<link rel="stylesheet" type="text/css" href="/css/stylesheet.css" >
<script src="/js/jquery-3.1.1.min.js"></script>
<!-- <div class="my-nav">
  <div class="container" id="top-title">
    <div class="col-xs-8">
       <h1>
         Workouts
       </h1>
    </div>
    <div class="col-xs-4">
      <a href="/">
        <h1>
          Log Out
        </h1>
      </a>
    </div>
  </div>
</div> -->
<div class="navbar navbar-default navbar-fixed-top" id="navbar">
    <div class="container-fluid">
      <div class="navbar-brand navbar-left">
        <h1>Workouts</h1>
      </div>
      <div class="navbar-brand navbar-right">
        <a href="#">
          <h1 id="header">
            Sign Out
          </h1>
        </a>
      </div>
    </div>
</div>

<div class="test">
  <ul class="workouts" id="whole_list">
    {{#each workouts}}
      <li class="each_workout" id="workouts_list-{{@index}}">
        <div class="container">
          <div class="row">
            <div class="col-xs-6 workout_name"><a href="/workoutInfo/{{this}}"><h1>{{this}}</h1></a></div>
            <!-- <div class="col-xs-4"><a href="/workoutInfo/{{this}}" type="button" class="btn btn-success">Choose</a></div> -->
            <div class="col-xs-6"><button type="button" class="btn btn-default remove-btn">Remove</button></div>
          </div>
          <div class="row">
            <div class="col-xs-4">
              <img src="/assets/dumbbell.jpeg" class="img-rounded"/>
            </div>
            <div class="col-xs-4">
              <img src="/assets/jumping.png" class="img-rounded"/>
            </div>
            <div class="col-xs-4">
              <img src="/assets/running.png" class="img-rounded"/>
            </div>
          </div>
        </div>
      </li>
    {{/each}}
  </ul>

  <div class="row">
    <div class="col-xs-12">
      <div class="col-xs-4"><button type="button" class="btn btn-info" id="add-btn">Add a new workout</button></div>
    </div>
  </div>
</div>

<script type="text/javascript">
  var ListenerSuite = {
    removeListener: function(){
      $('.remove-btn').click(function(){
        $(this).parent().parent().parent().parent().remove();
      });
    }
  }
  $(document).ready(function(){
    ListenerSuite.removeListener();
    mockhide = function(){
      console.log("hide");
      $(this).hide();

    };
    $("#add-btn").click(function(){
      var exercises = ["Jumping Jacks", "Rowing Machine", "Squats", "Balance", "Insanity", "P90X"];
      console.log("add");
      var index = parseInt(Math.random() * exercises.length);
      var phrase = exercises.splice(index, 1);
      var $clone = $("#workouts_list-0").clone()
      $clone.find(".workout_name").text(phrase);
      $clone.find(".btn-success").attr("href", "/workoutInfo/"+phrase);
      $clone.appendTo("#whole_list");
      ListenerSuite.removeListener();
    })
  })
</script>
